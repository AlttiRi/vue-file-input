{"version":3,"file":"index.js","sources":["node-modules:///vite/modulepreload-polyfill","source-maps:///components/FileInputDefaultHoverText.vue","source-maps:///components/FileInputDefaultText.vue","source-maps:///components/FileInput.vue","source-maps:///util.js","source-maps:///components/FileInputSelectedInfo.vue","source-maps:///components/WebFileEntry.js","source-maps:///components/file-input-state.ts","source-maps:///demo/main.js","source-maps:///demo/App.vue"],"sourcesContent":["__VITE_IS_MODERN__&&(function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n}());","<template>\n  <div class=\"default-hover-text\">{{text}}</div>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed} from \"vue\";\nimport {FileInputState} from \"../index\";\n\nconst props = defineProps<{state: FileInputState}>();\nconst {\n  dropHoverItemCount\n} = props.state.private;\n\nconst text = computed(() => {\n  const postfix = dropHoverItemCount.value > 1 ? \"s\" : \"\";\n  return `Drop ${dropHoverItemCount.value} file${postfix}`;\n});\n</script>\n\n<style scoped>\n.default-hover-text {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n","<template>\n  <div class=\"default-prompt-text\" :title=\"names\">\n    <div class=\"parsing\" v-if=\"parsing\">Parsing...</div>\n    <div v-else-if=\"count\">{{count}} file{{count > 1 ? \"s\" : \"\"}}</div>\n    <div v-else style=\"display: contents\">\n      <slot>Select file</slot>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed} from \"vue\";\nimport {FileInputState} from \"../index\";\n\nconst props = defineProps<{state: FileInputState}>();\nconst {\n  count, fileEntries, parsing\n} = props.state.private;\n\nconst names = computed(() => {\n  /** @type {WebFileEntry[]} */\n  const entries = fileEntries.value;\n  return entries.slice(0, 50).map(file => file.name).join(\"\\n\");\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.default-prompt-text {\n  width: inherit;\n  height: inherit;\n  max-width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n\n  &:hover {\n    //text-decoration: underline;\n  }\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n</style>\n","<template>\n  <div\n      class=\"file-input\"\n      ref=\"fileInputElem\"\n      :class=\"{'drop-hover': dropHover}\"\n      tabindex=\"0\"\n      @keydown=\"onKeyDown\"\n  >\n    <label>\n      <input type=\"file\"\n             :accept=\"accept\"\n             :multiple=\"multiple\"\n             @change=\"onFileInputChange\"\n             style=\"display: none\"\n             :nwdirectory=\"nwdirectory\"\n             ref=\"templateInputElem\"\n      >\n\n      <span class=\"content hover\" v-if=\"dropHover\">\n      <slot name=\"hover\"><FileInputDefaultHoverText :state=\"state\"/></slot>\n    </span>\n      <span class=\"content selected\" v-else-if=\"file && !parsing\">\n      <slot name=\"selected\"><FileInputDefaultText :state=\"state\"/></slot>\n    </span>\n      <span class=\"content prompt\" v-else>\n      <slot name=\"prompt\"><FileInputDefaultText :state=\"state\"/></slot>\n    </span>\n\n    </label>\n    <teleport to=\"body\">\n      <div class=\"file-input-hover-modal\" :class=\"{'drop-hover': dropHover}\"></div>\n    </teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport FileInputDefaultHoverText from \"./FileInputDefaultHoverText.vue\";\nimport FileInputDefaultText      from \"./FileInputDefaultText.vue\";\nimport {FileInputState, HTMLFileInputElement} from \"../index\";\n\nimport {\n  ref, toRefs, onMounted, computed, onBeforeUnmount, watchEffect,\n  Ref, ComputedRef\n} from \"vue\";\n\nconst templateInputElem: Ref<HTMLFileInputElement | null> = ref(null);\n\ntype IProps = {\n  state: FileInputState,\n  globalDropZone?: boolean,\n  dropZoneSelector?: string | null,\n  accept?: string,\n  multiple?: boolean,\n  nwdirectory?: boolean,\n}\n\nconst props = withDefaults(defineProps<IProps>(), {\n  globalDropZone: true,\n  dropZoneSelector: null,\n  accept: \"*/*\",\n  multiple: true,\n  nwdirectory: false,\n});\n\nconst {\n  globalDropZone,\n  dropZoneSelector,\n  nwdirectory,\n} = toRefs(props);\n\nconst {\n  parsing,\n  file,\n  dropHover,\n  setFiles,\n  setDataTransfer,\n  setDataTransferHover,\n  resetDataTransferHover,\n  isNwDirectory,\n  inputElem,\n} = props.state.private;\n\n\nwatchEffect(() => {\n  isNwDirectory.value = nwdirectory.value;\n});\nonMounted(() => {\n  inputElem.value = templateInputElem.value;\n});\n\nfunction onFileInputChange(event: Event) {\n  const fileElem = event.target as HTMLFileInputElement;\n  setFiles(fileElem.files);\n}\n\nconst fileInputElem: Ref<HTMLElement | null> = ref(null);\n\nconst dropZone: ComputedRef<HTMLElement | null> = computed(() => {\n  if (dropZoneSelector.value) {\n    return document.querySelector(dropZoneSelector.value);\n  } else\n  if (globalDropZone.value) {\n    return document.body;\n  } else\n    return fileInputElem.value;\n});\n\nonMounted(() => {\n  initListeners();\n});\nonBeforeUnmount(() => {\n  removeListeners();\n});\n\nfunction initListeners() {\n  if (!dropZone.value) {\n    return;\n  }\n  dropZone.value.addEventListener(\"dragenter\", onDragEnter);\n  dropZone.value.addEventListener(\"dragleave\", onDragLeave);\n  dropZone.value.addEventListener(\"drop\",      onDrop);\n  dropZone.value.addEventListener(\"dragover\",  onDragOver);\n  document.body.addEventListener(\"dragover\",   onDragOverNonDropZone);\n}\nfunction removeListeners() {\n  if (!dropZone.value) {\n    return;\n  }\n  dropZone.value.removeEventListener(\"dragenter\", onDragEnter);\n  dropZone.value.removeEventListener(\"dragleave\", onDragLeave);\n  dropZone.value.removeEventListener(\"drop\",      onDrop);\n  dropZone.value.removeEventListener(\"dragover\",  onDragOver);\n  document.body.removeEventListener(\"dragover\",   onDragOverNonDropZone);\n}\n\nfunction stopEvent(event: Event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nfunction onDrop(event: DragEvent) {\n  stopEvent(event);\n  dropHover.value = false;\n  setDataTransfer(event.dataTransfer);\n}\nfunction onDragOver(event: DragEvent) {\n  stopEvent(event);\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = \"copy\";\n  }\n}\nfunction onDragEnter(event: DragEvent) {\n  stopEvent(event);\n  if (!dropHover.value) {\n    dropHover.value = true;\n  } else {\n    return;\n  }\n  setDataTransferHover(event.dataTransfer);\n}\nfunction onDragLeave(event: DragEvent) {\n  stopEvent(event);\n  if (!dropZone.value?.contains(event.relatedTarget as Node)) {\n    dropHover.value = false;\n    resetDataTransferHover();\n  }\n}\n\nfunction onDragOverNonDropZone(event: DragEvent) {\n  if (!dropZone.value?.contains(event.target as Node)) {\n    stopEvent(event);\n    if (event.dataTransfer) {\n      event.dataTransfer.dropEffect = \"none\";\n    }\n  }\n}\n\nfunction onKeyDown(event: KeyboardEvent) {\n  if (event.key === \"Enter\") {\n    fileInputElem.value?.querySelector(\"label\")?.click();\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.file-input {\n  transition: background-color 0.1s;\n  border: solid 1px var(--file-input-border);\n  box-sizing: border-box;\n  &.drop-hover {\n    background-color: var(--drop-file-hover);\n    transition: background-color 0.1s;\n  }\n  &:hover {\n    background-color: var(--drop-hover);\n  }\n  &:active {\n    background-color: var(--drop-active);\n  }\n}\n.file-input, label, .content {\n  width: 100%;\n  height: 100%;\n}\n\n.file-input-hover-modal {\n  height: 50px;\n  width: 100%;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  background-image: linear-gradient(to top, rgba(0,0,0,0.15), rgba(0,0,0,0.005));\n\n  transition: opacity 0.25s ease-out;\n  opacity: 0;\n  &.drop-hover {\n    opacity: 1;\n  }\n}\n</style>\n\n\n\n\n\n\n\n\n\n\n","// \"Sun, 10 Jan 2021 22:22:22 GMT\" -> \"2021.01.10\"\nexport function dateToDayDateString(dateValue, utc = true) {\n    return formatDate(dateValue, \"YYYY.MM.DD\", utc);\n}\n\n// \"Sun, 10 Jan 2021 22:22:22 GMT\" -> \"2021.01.10 22:22:22Z\"\nexport function dateToDayDateTimeString(dateValue, utc = true) {\n    return formatDate(dateValue, \"YYYY.MM.DD HH:mm:SS\", utc) + (utc ? \"Z\" : \"\");\n}\n\n/**\n * Formats date. Supports: YY.YYYY.MM.DD HH:mm:SS.\n * Default format: \"YYYY.MM.DD\". formatDate() -> \"2022.01.07\"\n * @param {Date|String|Number?} dateValue\n * @param {String?} pattern\n * @param {Boolean?} utc\n * @return {string}\n */\nexport function formatDate(dateValue = new Date(), pattern = \"YYYY.MM.DD\", utc = true) {\n    function isString(input) {\n        return typeof input === \"string\" || input instanceof String;\n    }\n    function firefoxDateFix(dateValue) {\n        return isString(dateValue) ? dateValue.replace(/(?<y>\\d{4})\\.(?<m>\\d{2})\\.(?<d>\\d{2})/, \"$<y>-$<m>-$<d>\") : dateValue;\n    }\n    function pad0(value, count = 2) {\n        return value.toString().padStart(count, \"0\");\n    }\n    class DateFormatter {\n        constructor(date = new Date(), utc = true) {\n            this.date = date;\n            this.utc = utc ? \"UTC\" : \"\";\n        }\n        get SS()   {return pad0(this.date[`get${this.utc}Seconds`]())}\n        get mm()   {return pad0(this.date[`get${this.utc}Minutes`]())}\n        get HH()   {return pad0(this.date[`get${this.utc}Hours`]())}\n\n        get MM()   {return pad0(this.date[`get${this.utc}Month`]() + 1)}\n        get DD()   {return pad0(this.date[`get${this.utc}Date`]())}\n        get YYYY() {return pad0(this.date[`get${this.utc}FullYear`](), 4)}\n        get YY()   {return this.YYYY.slice(2);}\n    }\n    dateValue = firefoxDateFix(dateValue);\n    const date = new Date(dateValue);\n    if (date.toString() === \"Invalid Date\") {\n        console.warn(\"Invalid Date value: \", dateValue);\n    }\n    const formatter = new DateFormatter(date, utc);\n    return pattern.replaceAll(/YYYY|YY|MM|DD|HH|mm|SS/g, (...args) => formatter[args[0]]);\n}\n\n\n/**\n * Formats bytes mostly like Windows does,\n * but in some rare cases the result is different.\n * Check the file with tests.\n * @see win-like-file-sizes.test.js\n * @param {Number} bytes\n * @return {string}\n */\nexport function bytesToSizeWinLike(bytes) {\n    if (bytes < 1024) { return bytes + \" B\"; }\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    let i = Math.floor(Math.log(bytes) / Math.log(1024));\n    let result = bytes / Math.pow(1024, i);\n    if (result >= 1000) {\n        i++;\n        result /= 1024;\n    }\n    return toTruncPrecision3(result) + \" \" + sizes[i];\n}\n\n/**\n * @param {Number} number\n * @return {string}\n */\nexport function toTruncPrecision3(number) {\n    let result;\n    if (number < 10) {\n        result = Math.trunc(number * 100) / 100;\n    } else if (number < 100) {\n        result = Math.trunc(number * 10) / 10;\n    } else if (number < 1000) {\n        result = Math.trunc(number);\n    }\n    if (number < 0.1) {\n        return result.toPrecision(1);\n    } else if (number < 1) {\n        return result.toPrecision(2);\n    }\n    return result.toPrecision(3);\n}\n","<template>\n    <span class=\"file-info\" v-if=\"file\">\n      <span class=\"file-name\" :title=\"file.name\">{{file.name}}</span>\n      <span class=\"file-size\" :title=\"file.size\">{{bytesToSizeWinLike(file.size)}}</span>\n      <span class=\"file-mtime\" v-if=\"file.mtime\">{{dateToDayDateTimeString(file.mtime, false)}}</span>\n    </span>\n</template>\n\n<script setup lang=\"ts\">\nimport {FileInputState} from \"../index\";\nimport {bytesToSizeWinLike, dateToDayDateTimeString} from \"../util\";\n\nconst props = defineProps<{state: FileInputState}>();\nconst {\n  file\n} = props.state.private;\n</script>\n\n<style lang=\"scss\" scoped>\n.file-info {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  max-width: 100%;\n  .select-prompt {\n    align-self: center;\n  }\n  > * {\n    padding: 4px 12px;\n  }\n  .file-name {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n  .file-mtime {\n    opacity: 0.9;\n  }\n}\n</style>\n","/**\n * A help type to hide dumb warnings.\n * @typedef {\"file\" | \"folder\"} WebFileEntryTypeLike\n */\n\n/**\n * WebFileEntry class.\n */\nexport class WebFileEntry {\n    /**\n     * @param {Object} init\n     * @param {WebFileEntryTypeLike} init.type\n     * @param {File|FileWithPath}    init.file\n     * @param {String?}              init.name\n     * @param {WebFileEntry?}        init.parent\n     */\n    constructor({file, type, name, parent}) {\n        /** @type {File|FileWithPath} */\n        this.file = file;\n\n        /** @type {WebFileEntryTypeLike} */\n        this.type = type;\n\n        if (name) {\n            /** @type {String|undefined}\n             *  @private  */\n            this._name = name;\n        }\n\n        if (parent) {\n            /** @type {WebFileEntry|undefined} */\n            this.parent = parent;\n            parent.addChild(this);\n        }\n    }\n\n    /** @return {String|undefined} */\n    get nativePath() {\n        return this.file.path;\n    }\n\n    /** @return {String} */\n    get name() {\n        return this._name || this.file.name;\n    }\n\n    /** @private\n     *  @param {WebFileEntry} entry  */\n    addChild(entry) {\n        if (!this.children) {\n            /**\n             * `undefined` if there is no child\n             * @type {WebFileEntry[]|undefined}\n             */\n            this.children = [];\n        }\n        this.children.push(entry);\n        this.increaseContentSize(entry.size);\n    }\n\n    /** @private\n     *  @param {Number} size  */\n    increaseContentSize(size) {\n        if (!size) {\n            return;\n        }\n        if (!this._contentSize) {\n            /** @type {Number}\n             *  @private  */\n            this._contentSize = 0;\n        }\n        this._contentSize += size;\n        if (this.parent/* && size*/) {\n            this.parent.increaseContentSize(size);\n        }\n    }\n\n    /**\n     * Note: the folder size is computed on the creation step.\n     * @return {Number}\n     */\n    get size() {\n        if (this.type === \"folder\") {\n            return this._contentSize || 0;\n        }\n        return this.file.size || 0;\n    }\n\n    /** @return {Number} */\n    get mtime() {\n        return this.file.lastModified || 0;\n    }\n\n    /** @return {WebFileEntry[]} */\n    get path() {\n        if (!this.parent) {\n            return [this];\n        }\n        return [...this.parent.path, this];\n    }\n\n    /** @return {Generator<WebFileEntry>} */\n    *[Symbol.iterator]() {\n        yield this;\n        if (this.children) {\n            for (const child of this.children) {\n                yield * child;\n            }\n        }\n    }\n\n    /** @return {WebFileEntry[]} */\n    flat() {\n        return [...this];\n    }\n\n    /**\n     * @param {WebFileEntry[]} entries\n     * @return {WebFileEntry[]}\n     */\n    static flat(entries) {\n        return entries.map(e => [...e]).flat();\n    }\n\n    /**\n     * @param {DataTransfer} dt\n     * @param {boolean} recursive\n     * @return {Promise<WebFileEntry[]>}\n     */\n    static async fromDataTransfer(dt, recursive) {\n        /** @type {DataTransferItem[]} */\n        const dtItems = [...dt.items];\n        /** @type {File[]} */\n        const files = [...dt.files];\n\n        /** @type {FileSystemEntry[]} */\n        const fileSystemEntries = await dtItemsToFileSystemEntries(dtItems);\n        console.log(\"[fileSystemEntries]:\", fileSystemEntries);\n\n        /** @type {WebFileEntry[]} */\n        const result = [];\n        for (const fileSystemEntry of fileSystemEntries) {\n            result.push(await fromFileSystemEntry(fileSystemEntry, null, recursive, files.shift()));\n        }\n        return result;\n    }\n\n    /**\n     * @param {File[]} files\n     * @param {WebFileEntryTypeLike?} type\n     * @return {WebFileEntry[]}\n     */\n    static fromFiles(files, type = \"file\") {\n        /** @type {WebFileEntry[]} */\n        const result = [];\n        for (const file of files) {\n            result.push(new WebFileEntry({type, file}));\n        }\n        return result;\n    }\n}\n\n/**\n * @param {FileSystemEntry} fsEntry\n * @param {WebFileEntry|null} parent\n * @param {boolean} recursive=false\n * @param {File?} file\n * @return {Promise<WebFileEntry|null>}\n */\nasync function fromFileSystemEntry(fsEntry, parent = null, recursive = false, file) {\n    if (fsEntry.isFile) {\n        try {\n            const file = await toFile(/** @type {FileSystemFileEntry} */ fsEntry);\n            return new WebFileEntry({file, type: \"file\", parent});\n        } catch (e) { // For example, for long path \\\\?\\M:\\...\n            console.error(\"[fromFileSystemEntry][error]\", fsEntry.name, e);\n            return null;\n        }\n    } else if (fsEntry.isDirectory && recursive) {\n        const dirEntry = new WebFileEntry({type: \"folder\", parent, name: fsEntry.name, file});\n        /** @type {AsyncGenerator<FileSystemEntry>} */\n        const entries = readFileSystemDirectoryEntry(/** @type {FileSystemDirectoryEntry} */ fsEntry);\n        for await (const entry of entries) {\n            // The entries will be attached to the parent (`dirEntry`).\n            await fromFileSystemEntry(entry, dirEntry, recursive);\n        }\n        return dirEntry;\n    } else {\n        return new WebFileEntry({type: \"folder\", parent, name: fsEntry.name, file});\n    }\n}\n\n/**\n * Works only with a http server\n * @param {FileSystemFileEntry} fsFileEntry\n * @return {Promise<File>}\n */\nfunction toFile(fsFileEntry) {\n    return new Promise((resolve, reject) => fsFileEntry.file(resolve, reject));\n}\n\n/**\n * @param {FileSystemDirectoryEntry} fsDirEntry\n * @return {AsyncGenerator<FileSystemEntry>}\n */\nasync function * readFileSystemDirectoryEntry(fsDirEntry) {\n    const reader = fsDirEntry.createReader();\n    let part = [];\n    do {\n        part = await new Promise((resolve, reject) => reader.readEntries(resolve, reject));\n        for (const entry of part) {\n            yield entry;\n        }\n    } while (part.length);\n}\n\n/**\n * @param {DataTransferItem[]} dtItems\n * @return {Promise<FileSystemEntry[]>}\n */\nasync function dtItemsToFileSystemEntries(dtItems) {\n    const result = [];\n    for (const entry of dtItems) {\n        result.push(await dtItemToFileSystemEntry(entry));\n    }\n    return result;\n}\n\n/**\n * @param {DataTransferItem} entry\n * @return {Promise<FileSystemEntry>}\n */\nasync function dtItemToFileSystemEntry(entry) {\n    return entry.webkitGetAsEntry();\n}\n","import {computed, ComputedRef, DeepReadonly, readonly, Ref, ref, toRaw, watchEffect} from \"vue\";\nimport {WebFileEntry} from \"../index\";\n\nexport interface HTMLFileInputElement extends HTMLInputElement {\n    files: FileList; // Since `HTMLInputElement` has `FileList | null`\n}\n\nexport type FileInputStatePrivate = {\n    inputElem:   Ref<HTMLFileInputElement | null>,\n    fileEntries: Ref<WebFileEntry[]>,\n    file:  ComputedRef<WebFileEntry>,\n    count: ComputedRef<number>,\n\n    dropHover: Ref<boolean>,\n    dropHoverItemCount: Ref<number>,\n    dropHoverTypes: Ref<string[]>,\n    parsing: Ref<boolean>,\n\n    setDataTransferHover(dt: DataTransfer | null): void,\n    resetDataTransferHover(): void,\n    setDataTransfer(dt: DataTransfer | null): void,\n    setFiles(filelist: FileList, resetDataTransfer?: boolean): void,\n\n    isNwDirectory: Ref<boolean>,\n}\n\nexport type FileInputState = {\n    fileEntries: DeepReadonly<Ref<WebFileEntry[]>>,\n    clearInput(): void,\n    private: FileInputStatePrivate,\n}\n\ndeclare const nw: any;\nconst isNW: boolean = typeof nw !== \"undefined\" && nw[\"process\"]?.[\"__nwjs\"] === 1;\n\nfunction getLog(debug: boolean) {\n    if (debug) {\n        return (...args: any[]) => {\n            console.log(...args);\n        }\n    } else {\n        return () => {};\n    }\n}\n\ntype StateOpts = {\n    recursive?: boolean,\n    debug?:     boolean,\n}\ntype StateOptsDefault = {\n    recursive: boolean,\n    debug:     boolean,\n}\n\nexport function getStateInstance(opts: StateOpts = {}): FileInputState {\n    const defaultOpts: StateOptsDefault = {recursive: false, debug: false};\n    Object.assign(defaultOpts, opts);\n    const {recursive, debug} = defaultOpts;\n\n    const fileEntries:  Ref<WebFileEntry[]>  = ref([]);\n    const files:        Ref<File[]>          = ref([]);\n    const inputElem:    Ref<HTMLFileInputElement | null> = ref(null);\n    const parsing:      Ref<boolean>                     = ref(false);\n    const dtItems:      Ref<DataTransferItem[]>          = ref([]);\n    const dataTransfer: Ref<DataTransfer | null>         = ref(null);\n    const dropHover:    Ref<boolean>         = ref(false);\n    const dropHoverItemCount: Ref<number>    = ref(0);\n    const dropHoverTypes:     Ref<string[]>  = ref([]);\n    const isNwDirectory:      Ref<boolean>   = ref(false);\n\n    const log = getLog(debug);\n\n    watchEffect(async () => {\n        const time: number = Date.now();\n        parsing.value = true;\n        if (dataTransfer.value) {\n            log(\"[fromDataTransferItems]\");\n            fileEntries.value = await WebFileEntry.fromDataTransfer(dataTransfer.value, recursive);\n        } else\n        if (isNW && isNwDirectory.value) {\n            log(\"[isNwDirectory]\");\n            fileEntries.value = WebFileEntry.fromFiles(files.value, \"folder\");\n        } else {\n            log(\"[fromFiles]\");\n            fileEntries.value = WebFileEntry.fromFiles(files.value);\n        }\n        parsing.value = false;\n        log(\"[WebFileEntry parsing][time]:\", Date.now() - time, \"ms\");\n        log(\"[fileEntries]\", toRaw(fileEntries.value));\n    });\n\n    const file: ComputedRef<WebFileEntry> = computed(() => {\n        return fileEntries.value[0];\n    });\n\n    const count: ComputedRef<number> = computed(() => {\n        return fileEntries.value.length;\n    });\n\n    function setDataTransferHover(dt: DataTransfer | null) {\n        if (!dt) {\n            return;\n        }\n        const count:    number   = dt.items.length;\n        const allTypes: string[] = [...dt.items].map(item => item.type);\n        const types:    string[] = [...new Set(allTypes)];\n\n        dropHoverItemCount.value = count;\n        dropHoverTypes.value = types;\n        log(\"[setDataTransferHover]:\", count, types);\n    }\n    function resetDataTransferHover() {\n        dropHoverItemCount.value = 0;\n        dropHoverTypes.value = [];\n    }\n\n    function setDataTransfer(dt: DataTransfer | null) {\n        if (!dt) {\n            return;\n        }\n        log(\"setDataTransfer\", dt);\n        setFiles(dt.files, false);\n        _setDtItems(dt.items);\n        dataTransfer.value = dt;\n    }\n    function setFiles(filelist: FileList, resetDataTransfer: boolean = true) {\n        const _files: File[] = [...filelist];\n        files.value = _files;\n        log(\"[setFiles]:\", _files);\n        if (resetDataTransfer) {\n            dataTransfer.value = null;\n            dtItems.value = [];\n        }\n    }\n    function _setDtItems(items: DataTransferItemList) {\n        const _dtItems: DataTransferItem[] = [...items];\n        dtItems.value = _dtItems;\n        log(\"[_setDtItems]:\", _dtItems); // bug in chromium: `type` and `kind` is \"\" in the console when expand the array.\n        log(\"[_setDtItems][0]:\", {\n            kind: _dtItems[0].kind, type: _dtItems[0].type\n        });\n    }\n\n    function clearInput() {\n        if (inputElem.value) {\n            inputElem.value.value = \"\";\n        }\n        files.value = [];\n        dataTransfer.value = null;\n        dtItems.value = [];\n    }\n\n    return {\n        fileEntries: readonly(fileEntries),\n        clearInput,\n        private: {\n            dropHover, dropHoverItemCount, dropHoverTypes,\n            fileEntries, parsing,\n            file, count,\n            setDataTransferHover, resetDataTransferHover,\n            setDataTransfer, setFiles,\n            isNwDirectory,\n            inputElem,\n        }\n    };\n}\n","import {createApp} from \"vue\";\nimport App from \"./App.vue\";\n\ncreateApp(App).mount(\"#app\");\n","<template>\n  <FileInput :state=\"state\">\n    <template v-slot:selected>\n      <FileInputSelectedInfo :state=\"state\"/>\n    </template>\n  </FileInput>\n</template>\n\n<script setup>\nimport {getStateInstance, FileInput, FileInputSelectedInfo} from \"/src/index\";\n// or\n// import {getStateInstance, FileInput, FileInputSelectedInfo} from \"@alttiri/vue-file-input\";\n\n\nconst state = getStateInstance({recursive: true, debug: true});\nglobalThis.state = state;\n</script>\n\n<style>\n\n</style>\n"],"names":["relList","document","createElement","supports","link","querySelectorAll","processPreload","MutationObserver","mutations","mutation","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","fetch","href","dropHoverItemCount","props","state","private","text","computed","postfix","value","count","fileEntries","parsing","names","slice","map","file","name","join","templateInputElem","ref","globalDropZone","dropZoneSelector","nwdirectory","toRefs","dropHover","setFiles","setDataTransfer","setDataTransferHover","resetDataTransferHover","isNwDirectory","inputElem","onFileInputChange","event","fileElem","target","files","watchEffect","onMounted","fileInputElem","dropZone","querySelector","body","stopEvent","preventDefault","stopPropagation","onDrop","dataTransfer","onDragOver","dropEffect","onDragEnter","onDragLeave","contains","relatedTarget","onDragOverNonDropZone","onKeyDown","key","click","addEventListener","onBeforeUnmount","removeEventListener","dateToDayDateTimeString","dateValue","utc","Date","pattern","isString","input","String","firefoxDateFix","replace","pad0","toString","padStart","DateFormatter","constructor","date","this","SS","mm","HH","MM","DD","YYYY","YY","console","warn","formatter","replaceAll","args","formatDate","bytesToSizeWinLike","bytes","i","Math","floor","log","result","pow","number","trunc","toPrecision","toTruncPrecision3","WebFileEntry","parent","_name","addChild","nativePath","path","entry","children","push","increaseContentSize","size","_contentSize","mtime","lastModified","Symbol","iterator","child","flat","static","entries","e","dt","recursive","dtItems","items","fileSystemEntries","async","dtItemToFileSystemEntry","dtItemsToFileSystemEntries","fileSystemEntry","fromFileSystemEntry","shift","fsEntry","isFile","isDirectory","dirEntry","fsDirEntry","reader","createReader","part","Promise","resolve","reject","readEntries","length","readFileSystemDirectoryEntry","fsFileEntry","error","webkitGetAsEntry","isNW","nw","getStateInstance","opts","defaultOpts","debug","Object","assign","dropHoverTypes","getLog","time","now","fromDataTransfer","fromFiles","toRaw","filelist","resetDataTransfer","_files","readonly","clearInput","allTypes","item","types","Set","_dtItems","kind","_setDtItems","createApp","globalThis","mount"],"mappings":"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"}